{% extends "base.html" %}

{% block title %}Addition Calculator{% endblock %}

{% block content %}
<section id="calculator">
    <div class="container">
        <div class="back-button-container">
            <a href="{{ url_for('main.services') }}" class="back-button">
                <i class="fas fa-chevron-left"></i> Back to Services
            </a>
        </div>
        
        <h2 class="section-title">Simple Addition Calculator</h2>
        <p class="section-subtitle">Add two numbers with our elegant calculator</p>
        
        <div class="calculator-wrapper">
            <div class="calculator-container">
                <div class="calculator-form">
                    <div class="form-row">
                        <div class="calculator-input-group">
                            <label for="num1" class="calculator-label">First Number</label>
                            <input type="number" id="num1" class="calculator-input" placeholder="Enter first number">
                        </div>
                        
                        <div class="calculator-plus">
                            <span>+</span>
                        </div>
                        
                        <div class="calculator-input-group">
                            <label for="num2" class="calculator-label">Second Number</label>
                            <input type="number" id="num2" class="calculator-input" placeholder="Enter second number">
                        </div>
                    </div>
                    
                    <button id="calculate-button" class="calculator-button">
                        <i class="fas fa-equals"></i> Calculate Sum
                    </button>
                    
                    <div class="calc-result" id="result">
                        Result will appear here
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    #calculator {
        background: linear-gradient(135deg, #f6f9fc, #edf2f7);
        min-height: calc(100vh - 200px);
        display: flex;
        align-items: center;
    }
    
    .back-button-container {
        margin-bottom: 30px;
    }
    
    .back-button {
        display: inline-flex;
        align-items: center;
        padding: 10px 20px;
        background-color: #3182ce;
        color: white;
        border-radius: 30px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 4px 10px rgba(49, 130, 206, 0.3);
    }
    
    .back-button:hover {
        background-color: #2c5282;
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(49, 130, 206, 0.4);
        color: white;
        text-decoration: none;
    }
    
    .back-button i {
        margin-right: 8px;
    }
    
    .calculator-wrapper {
        display: flex;
        justify-content: center;
        margin-top: 30px;
        perspective: 1000px;
    }
    
    .calculator-container {
        background-color: white;
        border-radius: 20px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1), 0 5px 15px rgba(0, 0, 0, 0.07);
        padding: 40px;
        width: 100%;
        max-width: 600px;
        transform-style: preserve-3d;
        transition: transform 0.6s ease, box-shadow 0.6s ease;
        position: relative;
        overflow: hidden;
    }
    
    .calculator-container:hover {
        transform: translateY(-5px) rotateX(5deg);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15), 0 10px 20px rgba(0, 0, 0, 0.1);
    }
    
    .calculator-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 10px;
        background: linear-gradient(135deg, #4299e1, #3182ce);
        border-radius: 10px 10px 0 0;
    }
    
    .calculator-form {
        padding: 20px 10px;
    }
    
    .form-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 30px;
        flex-wrap: wrap;
    }
    
    .calculator-input-group {
        flex: 1;
        min-width: 150px;
        margin: 10px;
    }
    
    .calculator-label {
        display: block;
        font-weight: 600;
        color: #4a5568;
        margin-bottom: 8px;
        transition: all 0.3s;
    }
    
    .calculator-input {
        width: 100%;
        padding: 14px 20px;
        font-size: 16px;
        border: 2px solid #e2e8f0;
        border-radius: 10px;
        background-color: #f8fafc;
        transition: all 0.3s;
    }
    
    .calculator-input:focus {
        border-color: #4299e1;
        box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2);
        background-color: #fff;
        outline: none;
    }
    
    .calculator-input:focus + .calculator-label {
        color: #3182ce;
    }
    
    .calculator-plus {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, #4299e1, #3182ce);
        border-radius: 50%;
        color: white;
        font-size: 24px;
        font-weight: bold;
        margin: 10px 20px;
        box-shadow: 0 4px 10px rgba(66, 153, 225, 0.3);
        user-select: none;
    }
    
    .calculator-button {
        display: block;
        width: 100%;
        padding: 16px;
        background: linear-gradient(135deg, #4299e1, #3182ce);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 18px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        margin-bottom: 25px;
        box-shadow: 0 4px 10px rgba(66, 153, 225, 0.3);
    }
    
    .calculator-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 15px rgba(66, 153, 225, 0.4);
    }
    
    .calculator-button:active {
        transform: translateY(1px);
        box-shadow: 0 2px 5px rgba(66, 153, 225, 0.3);
    }
    
    .calc-result {
        background-color: #f8fafc;
        border: 2px solid #e2e8f0;
        border-left: 5px solid #4299e1;
        padding: 20px;
        border-radius: 10px;
        font-size: 18px;
        font-weight: 600;
        text-align: center;
        color: #4a5568;
        min-height: 70px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s;
    }
    
    /* Animation for result display */
    @keyframes highlight {
        0% { background-color: #ebf8ff; }
        50% { background-color: #bee3f8; }
        100% { background-color: #f8fafc; }
    }
    
    .highlight {
        animation: highlight 1s ease;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
        .form-row {
            flex-direction: column;
        }
        
        .calculator-plus {
            margin: 20px 0;
        }
        
        .calculator-container {
            padding: 30px 20px;
        }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const calculateButton = document.getElementById('calculate-button');
        const num1Input = document.getElementById('num1');
        const num2Input = document.getElementById('num2');
        const resultDisplay = document.getElementById('result');
        
        // Set focus on first input when page loads
        num1Input.focus();
        
        // Function to calculate sum
        function calculateSum() {
            const num1 = parseFloat(num1Input.value);
            const num2 = parseFloat(num2Input.value);
            
            if (isNaN(num1) || isNaN(num2)) {
                resultDisplay.textContent = "Please enter valid numbers";
                resultDisplay.style.borderColor = "#f56565";
                return;
            }
            
            const sum = num1 + num2;
            
            // Format the result based on whether it's a whole number or decimal
            const formattedSum = Number.isInteger(sum) ? sum : sum.toFixed(2);
            
            resultDisplay.textContent = `${num1} + ${num2} = ${formattedSum}`;
            resultDisplay.style.borderColor = "#4299e1";
            
            // Apply highlight animation
            resultDisplay.classList.remove('highlight');
            void resultDisplay.offsetWidth; // Trigger reflow to restart animation
            resultDisplay.classList.add('highlight');
        }
        
        // Add event listeners
        calculateButton.addEventListener('click', calculateSum);
        
        // Allow Enter key to trigger calculation
        [num1Input, num2Input].forEach(input => {
            input.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    calculateSum();
                }
            });
        });
        
        // For mobile: hide keyboard after pressing Enter
        [num1Input, num2Input].forEach(input => {
            input.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    this.blur();
                }
            });
        });
    });
</script>
{% endblock %}